# üîß –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø STORIES –ò CIRCLES –í –û–¢–ß–ï–¢–ê–•

## üö® –û–ë–ù–ê–†–£–ñ–ï–ù–ù–´–ï –ü–†–û–ë–õ–ï–ú–´

### 1. **STORIES –ù–ï –û–ü–†–ï–î–ï–õ–Ø–õ–ò–°–¨**
**–ë—ã–ª–æ:** –í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è —Å—á–∏—Ç–∞–ª–∏—Å—å –∫–∞–∫ –æ–±—ã—á–Ω—ã–µ –ø–æ—Å—Ç—ã  
**–ü—Ä–æ–±–ª–µ–º–∞:** Stories –ø–æ–∫–∞–∑—ã–≤–∞–ª–∏ 0 –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤/—Ä–µ–∞–∫—Ü–∏–π

### 2. **CIRCLES (–ö–†–£–ñ–ö–ò) –ù–ï –£–ß–ò–¢–´–í–ê–õ–ò–°–¨**  
**–ë—ã–ª–æ:** –í–∏–¥–µ–æ-—Å–æ–æ–±—â–µ–Ω–∏—è (–∫—Ä—É–∂–∫–∏) —Å—á–∏—Ç–∞–ª–∏—Å—å –∫–∞–∫ –ø–æ—Å—Ç—ã  
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Ç–æ—á–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–∏–ø–æ–≤ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

### 3. **ER > 100% - –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –û–®–ò–ë–ö–ê**
**–ë—ã–ª–æ:** ER = 807.69% - —è–≤–Ω–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ  
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Ç–æ—á–Ω–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤

## ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

### 1. **–ü–†–ê–í–ò–õ–¨–ù–û–ï –û–ü–†–ï–î–ï–õ–ï–ù–ò–ï –¢–ò–ü–û–í –ö–û–ù–¢–ï–ù–¢–ê**

```python
# –ù–û–í–ê–Ø –õ–û–ì–ò–ö–ê –í –û–ë–ï–ò–• –§–£–ù–ö–¶–ò–Ø–•:
is_story = False
is_circle = False

if hasattr(message, 'media') and message.media:
    # Stories - –∫–æ–Ω—Ç–µ–Ω—Ç —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º –≤—Ä–µ–º–µ–Ω–µ–º –∂–∏–∑–Ω–∏
    if hasattr(message.media, 'ttl_seconds') and message.media.ttl_seconds:
        is_story = True
        stories += 1
    # –ö—Ä—É–∂–∫–∏ - –≤–∏–¥–µ–æ-—Å–æ–æ–±—â–µ–Ω–∏—è
    elif hasattr(message.media, 'round_message') or (
        hasattr(message.media, 'document') and 
        hasattr(message.media.document, 'attributes') and
        any(getattr(attr, 'round_message', False) for attr in message.media.document.attributes)
    ):
        is_circle = True
        circles += 1
    else:
        posts += 1
else:
    posts += 1  # –¢–µ–∫—Å—Ç–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
```

### 2. **–†–ê–ó–î–ï–õ–¨–ù–´–ô –ü–û–î–°–ß–ï–¢ –ú–ï–¢–†–ò–ö**

```python
# –ü—Ä–æ—Å–º–æ—Ç—Ä—ã
if hasattr(message, 'views') and message.views:
    if is_story:
        story_views += message.views        # –î–ª—è stories
    elif not is_circle:
        total_views += message.views        # –î–ª—è –ø–æ—Å—Ç–æ–≤

# –†–µ–∞–∫—Ü–∏–∏
if hasattr(message, 'reactions') and message.reactions:
    if is_story:
        story_likes += message_reactions    # –õ–∞–π–∫–∏ –Ω–∞ stories
    elif not is_circle:
        total_reactions += message_reactions # –†–µ–∞–∫—Ü–∏–∏ –Ω–∞ –ø–æ—Å—Ç—ã
```

### 3. **–¢–û–ß–ù–û–ï –ü–û–õ–£–ß–ï–ù–ò–ï –ö–û–õ–ò–ß–ï–°–¢–í–ê –ü–û–î–ü–ò–°–ß–ò–ö–û–í**

```python
# –ë–´–õ–û:
current_subscribers = getattr(full_channel, 'participants_count', 0) or 1

# –°–¢–ê–õ–û:
try:
    from telethon.tl import functions
    full_channel_req = await telethon_client(functions.channels.GetFullChannelRequest(channel))
    current_subscribers = full_channel_req.full_chat.participants_count or 0
    if current_subscribers == 0:
        # Fallback –∫ –±–∞–∑–æ–≤–æ–º—É –º–µ—Ç–æ–¥—É
        full_channel = await telethon_client.get_entity(channel)
        current_subscribers = getattr(full_channel, 'participants_count', 0) or 1
except Exception as e:
    # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∑–∞—â–∏—Ç–∞
    current_subscribers = 1
```

### 4. **–ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –í SMM-–û–¢–ß–ï–¢–ï**

- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–∞—è –ª–æ–≥–∏–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è Stories/Circles
- ‚úÖ –†–∞–∑–¥–µ–ª—å–Ω—ã–π –ø–æ–¥—Å—á–µ—Ç –º–µ—Ç—Ä–∏–∫ –¥–ª—è Stories –∏ –ø–æ—Å—Ç–æ–≤  
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è: "–ò—Å—Ç–æ—Ä–∏–π –∑–∞ –Ω–µ–¥–µ–ª—é: X"

## üìä –û–ñ–ò–î–ê–ï–ú–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´

### –î–û –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:
```
üì∫ –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∏—Å—Ç–æ—Ä–∏–π
–ü—Ä–æ—Å–º–æ—Ç—Ä—ã: 0           ‚ùå
–ü–µ—Ä–µ—Å—ã–ª–∫–∏: 0           ‚ùå
–†–µ–∞–∫—Ü–∏–∏: 0             ‚ùå

üîÑ –í–æ–≤–ª–µ—á–µ–Ω–Ω–æ—Å—Ç—å (ER): 807.69%  ‚ùå –ö–†–ò–¢–ò–ß–ù–û!
üì∫ –°—Ç–æ—Ä–∏—Å: 0           ‚ùå
üé• –ö—Ä—É–∂–∫–æ–≤: 0          ‚ùå
```

### –ü–û–°–õ–ï –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:
```
üì∫ –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∏—Å—Ç–æ—Ä–∏–π
–ü—Ä–æ—Å–º–æ—Ç—Ä—ã: [–†–ï–ê–õ–¨–ù–´–ï –î–ê–ù–ù–´–ï]     ‚úÖ
–ü–µ—Ä–µ—Å—ã–ª–∫–∏: [–†–ï–ê–õ–¨–ù–´–ï –î–ê–ù–ù–´–ï]     ‚úÖ
–†–µ–∞–∫—Ü–∏–∏: [–†–ï–ê–õ–¨–ù–´–ï –î–ê–ù–ù–´–ï]       ‚úÖ

üîÑ –í–æ–≤–ª–µ—á–µ–Ω–Ω–æ—Å—Ç—å (ER): 2.34%    ‚úÖ –ù–û–†–ú–ê–õ–¨–ù–û!
üì∫ –°—Ç–æ—Ä–∏—Å: 5                     ‚úÖ
üé• –ö—Ä—É–∂–∫–æ–≤: 2                    ‚úÖ
–ò—Å—Ç–æ—Ä–∏–π –∑–∞ –Ω–µ–¥–µ–ª—é: 5             ‚úÖ –ù–û–í–û–ï!
```

## üéØ –ö–õ–Æ–ß–ï–í–´–ï –£–õ–£–ß–®–ï–ù–ò–Ø

1. **–¢–æ—á–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞** - –ø–æ—Å—Ç—ã/stories/–∫—Ä—É–∂–∫–∏ –æ—Ç–¥–µ–ª—å–Ω–æ
2. **–†–µ–∞–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ Stories** - –ø—Ä–æ—Å–º–æ—Ç—Ä—ã, –ª–∞–π–∫–∏, –ø–µ—Ä–µ—Å—ã–ª–∫–∏  
3. **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π ER** - –±–æ–ª—å—à–µ –Ω–µ –±—É–¥–µ—Ç >100%
4. **–û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è** - –≤–∏–¥–Ω–æ —Å–∫–æ–ª—å–∫–æ –Ω–∞–π–¥–µ–Ω–æ –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

**–¢–µ–ø–µ—Ä—å –æ—Ç—á–µ—Ç—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —Ä–µ–∞–ª—å–Ω—É—é –∫–∞—Ä—Ç–∏–Ω—É –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∫–∞–Ω–∞–ª–∞! üöÄ**
