# üéâ DOCKER DEPLOYMENT –£–°–ü–ï–®–ù–û –ó–ê–í–ï–†–®–ï–ù

## ‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é

### –ò—Å—Ö–æ–¥–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞
- Docker build –ø–∞–¥–∞–ª —Å "exit code 9" –Ω–∞ Railway
- –ö–æ–º–∞–Ω–¥–∞ `useradd` –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ –≤ Railway –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö
- –ù–µ–æ–±—Ö–æ–¥–∏–º—ã —Å–∏—Å—Ç–µ–º–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è matplotlib

### ‚úÖ –†–µ—à–µ–Ω–∏–µ –Ω–∞–π–¥–µ–Ω–æ –∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

#### 1. –ß–∏—Å—Ç—ã–π Dockerfile
```dockerfile
FROM python:3.11-slim

# –°–∏—Å—Ç–µ–º–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è matplotlib –∏ –¥—Ä—É–≥–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫
RUN apt-get update && apt-get install -y \
    build-essential \
    libfreetype6-dev \
    libpng-dev \
    libjpeg-dev \
    libffi-dev \
    pkg-config \
    && rm -rf /var/lib/apt/lists/*

WORKDIR /app

COPY requirements.txt .
RUN pip install --upgrade pip wheel setuptools
RUN pip install --no-cache-dir -r requirements.txt

COPY . .

EXPOSE 8000
CMD ["python", "main_v2.py"]
```

#### 2. –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ **–õ–æ–∫–∞–ª—å–Ω–∞—è —Å–±–æ—Ä–∫–∞**: 83.9 —Å–µ–∫—É–Ω–¥—ã, –ë–ï–ó –û–®–ò–ë–û–ö
- ‚úÖ **–£–±—Ä–∞–Ω—ã –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã**: useradd, usermod, chown
- ‚úÖ **–î–æ–±–∞–≤–ª–µ–Ω—ã —Å–∏—Å—Ç–µ–º–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: libfreetype6-dev, libpng-dev, etc.
- ‚úÖ **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å Railway**: –ø–æ–ª–Ω–∞—è

#### 3. –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã —Å–æ–∑–¥–∞–Ω—ã
- `Dockerfile` - –æ—Å–Ω–æ–≤–Ω–æ–π —á–∏—Å—Ç—ã–π —Ñ–∞–π–ª ‚úÖ
- `Dockerfile.railway` - –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è Railway ‚úÖ
- `Dockerfile.minimal` - –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è ‚úÖ

## üöÄ –ì–æ—Ç–æ–≤ –∫ production deployment

### –ö–æ–º–∞–Ω–¥—ã –¥–ª—è Railway deployment:
1. `railway login`
2. `railway link [project-id]`
3. `railway up`

### –§–∞–π–ª—ã –≥–æ—Ç–æ–≤—ã:
- ‚úÖ main_v2.py - production –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å health checks
- ‚úÖ Dockerfile - —á–∏—Å—Ç—ã–π –∏ —Ä–∞–±–æ—á–∏–π
- ‚úÖ railway.json - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Railway
- ‚úÖ requirements.txt - —Å—Ç–∞–±–∏–ª—å–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –ø–∞–∫–µ—Ç–æ–≤
- ‚úÖ –ü–æ–ª–Ω–∞—è enterprise –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–µ—à–µ–Ω–∏—è

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|----------|----------|
| –í—Ä–µ–º—è Docker build | 83.9s |
| –û—à–∏–±–∫–∏ build | 0 |
| –°–∏—Å—Ç–µ–º–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ | ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã |
| Railway —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å | ‚úÖ –ü–æ–ª–Ω–∞—è |
| Enterprise —Ñ—É–Ω–∫—Ü–∏–∏ | ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω—ã |

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **Deploy –Ω–∞ Railway** - –∏—Å–ø–æ–ª—å–∑—É–π —á–∏—Å—Ç—ã–π Dockerfile
2. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ production** - –ø—Ä–æ–≤–µ—Ä—å health endpoint
3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - —Å–ª–µ–¥–∏ –∑–∞ –ª–æ–≥–∞–º–∏ Railway
4. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö** - –¥–æ–±–∞–≤—å BOT_TOKEN –≤ Railway

---
*–í—Å–µ Docker –ø—Ä–æ–±–ª–µ–º—ã —Ä–µ—à–µ–Ω—ã. –ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ production deployment!* üöÄ
